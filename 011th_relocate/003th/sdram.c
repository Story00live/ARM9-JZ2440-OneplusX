/**
  *********************************************************************************************************
  * @file    sdram.c
  * @author  Devilhart -- KK
  * @version V0.0.1
  * @date    2019-03-04
  * @brief   1TAB = 5Speace
  *********************************************************************************************************
  * @attention
  *
  *
  *
  *********************************************************************************************************
  */

#include "sdram.h"

/**********************************************************************************************************
 @Function			void S3C2440_SDRAMInitialized(void)
 @Description			S3C2440_SDRAMInitialized
 @Input				void
 @Return				void
**********************************************************************************************************/
void S3C2440_SDRAMInitialized(void)
{
	/* 设置SDRAM数据总线宽度为32bit */
	BWSCON &= ~((3<<24) | (1<<26) | (1<<27));
	BWSCON &= ~((3<<28) | (1<<30) | (1<<31));
	BWSCON |=  ((2<<24) | (2<<28));
	
	/* 设置BANK控制器为SDRAM,RAS/CAS延时2个Clock,列地址9bit */
	BANKCON6 &= ~((3<<15) | (3<<2) | (3<<0));
	BANKCON6 |=  ((3<<15) | (0<<2) | (1<<0));
	BANKCON7 &= ~((3<<15) | (3<<2) | (3<<0));
	BANKCON7 |=  ((3<<15) | (0<<2) | (1<<0));
	
	/* 设置REFRESH刷新控制寄存器 */
	REFRESH = 0x008404F5;
	
	/* 设置BANKSIZE寄存器 */
	BANKSIZE = 0xB1;
	
	/* 设置MRSR寄存器 */
	MRSRB6 = 0x20;
	MRSRB7 = 0x20;
}

/********************************************** END OF FLEE **********************************************/
